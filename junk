Feature: Global HIGH policy profile is applied uniformly
This covers loading/validating the HIGH policy profile, applying it to every section, structured violation handling, and audit logging.

Scenario: HIGH policy profile loads successfully from configuration
Given a policy configuration exists defining a single policy profile "HIGH"
When the runtime starts (or first uses policy config)
Then the runtime loads policy profile "HIGH" successfully
And the runtime makes "HIGH" available for section execution

Scenario: Invalid policy configuration fails fast before any LLM call
Given the policy configuration is missing or invalid
When I attempt to run any section
Then the system returns a "POLICY_CONFIG_INVALID" error
And no LLM call is attempted

Scenario: HIGH policy profile is applied to every section run
Given policy profile "HIGH" is loaded successfully
And section_id "company_overview" is registered
And section_id "key_risks" is registered
When I run section_id "company_overview"
And I run section_id "key_risks"
Then both section runs enforce the same policy profile "HIGH"

Scenario: Runtime records policy profile and version for auditability
Given policy profile "HIGH" is loaded successfully with a policy_version identifier
When I run any section
Then the run output or telemetry includes policy_profile "HIGH"
And the run output or telemetry includes the policy_version identifier

Scenario: Policy violation returns structured failure and is logged
Given policy profile "HIGH" is loaded successfully
And the LLM output violates a policy rule enforced by "HIGH"
When I run a section
Then the system returns a structured failure reason "POLICY_VIOLATION"
And the failure is logged with section_id and policy_profile "HIGH"
