Gherkin

Feature: Single entrypoint runs any section via a uniform pipeline
This covers one execution API, consistent ordering, and no section-specific branching.

Scenario: Run a known section follows the standard pipeline
Given section_id "company_overview" is registered with valid bindings
And the prompt for "company_overview" can be loaded
And the LLM service is available
When I run section_id "company_overview" through the single entrypoint
Then the system resolves the section from the registry
And loads the prompt for the section
And calls the LLM
And applies guardrails/policies
And validates the output against the section schema
And emits telemetry for the run
And returns a successful section result

Scenario: Unknown section fails fast before any LLM call
Given section_id "unknown_section" is not registered
When I run section_id "unknown_section" through the single entrypoint
Then the system returns an "UNKNOWN_SECTION" error
And no LLM call is attempted

Scenario: Pipeline order is consistent across different sections
Given section_id "company_overview" is registered with valid bindings
And section_id "key_risks" is registered with valid bindings
When I run "company_overview" through the single entrypoint
And I run "key_risks" through the single entrypoint
Then both runs execute the same ordered steps: resolve, load prompt, call LLM, apply guardrails, validate schema, emit telemetry

Scenario: No section-specific branching is required to add a new section
Given a new section_id "new_section" is added to the registry with valid schema and prompt bundle
When I run section_id "new_section" through the single entrypoint
Then the system executes it using the same pipeline as other sections
And the runtime does not require section-specific branching logic to support "new_section"
