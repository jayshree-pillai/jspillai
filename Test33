# KPI packs (performance_core, liquidity_core, ...)
packs:
  performance_core:
    - revenue
    - yoy_growth
    - operating_margin

  liquidity_core:
    - cash
    - total_debt
    - net_debt

#models.yaml
# Runtime hints for the outer service when calling the LLM.

model: "gpt-4.2"

steps:
  #only pulls numbers/metrics for a known list of KPI keys: ex
  #{"kpis": {"revenue": "...", "operating_margin": "..."}}
  kpi_extract:
    temperature: 0.0
    max_tokens: 400
  #extract = pulls the rest of the structured facts the component needs (business model, segments, drivers, etc.) and ties them to citations
  #{"facts": {...}, "citations": {...}}
  extract:
    temperature: 0.0
    max_tokens: 800

  compose:
    temperature: 0.2
    max_tokens: 800

  verify:
    temperature: 0.0
    max_tokens: 600




#policies.yaml
# global rules/gates (citations, not disclosed, etc.)
not_disclosed_phrase: "Not disclosed in provided sources."

rules:
  - "Use only provided sources."
  - "No guessing."
  - "Cite non-obvious claims as [CHUNK_ID]."

gates:
  schema_valid: true
  citations_required: true



# retreival.yaml
# retrieval profiles (financials_mda, risk_factors, ...)
profiles:
  overview_text:
    desc: "Business section / company description"
    top_k: 12
  financials_mda:
    desc: "MD&A Results of Ops + core financial tables"
    top_k: 12
  segments_notes:
    desc: "Segment reporting note + segment MD&A discussion"
    top_k: 10
  liquidity_debt:
    desc: "Liquidity section + debt/credit facility notes"
    top_k: 12
  risk_factors:
    desc: "10-K/10-Q Risk Factors"
    top_k: 12
